<!DOCTYPE html>
<html lang="en-us">

  {% include head.html %}

  <body class="theme-base-0d layout-reverse">

    <button class="sidebar-toggle" type="button" aria-controls="site-sidebar" aria-expanded="false">
      Menu
    </button>
    {% include sidebar.html %}

    <div class="content container">
      {{ content }}
    </div>

    <script>
      (function () {
        var toggle = document.querySelector(".sidebar-toggle");
        var body = document.body;
        if (!toggle || !body) return;

        var isDesktop = function () {
          return window.matchMedia("(min-width: 48em)").matches;
        };

        var syncLabel = function (expanded) {
          toggle.setAttribute("aria-expanded", expanded ? "true" : "false");
          toggle.textContent = expanded ? "Close" : "Menu";
        };

        toggle.addEventListener("click", function () {
          var expanded = body.classList.toggle("sidebar-open");
          syncLabel(expanded);
        });

        document.querySelectorAll("#site-sidebar a").forEach(function (link) {
          link.addEventListener("click", function () {
            if (!isDesktop()) {
              body.classList.remove("sidebar-open");
              syncLabel(false);
            }
          });
        });

        window.addEventListener("resize", function () {
          if (isDesktop()) {
            body.classList.remove("sidebar-open");
            syncLabel(false);
          }
        });
      })();
    </script>

  </body>
</html>
